# Pantograph-Catenary Contact Tracking Results

**Date:** November 12, 2025  
**Video:** WhatsApp Video (6552 frames @ 29.99 fps, ~3.6 minutes)  
**Model:** YOLOv8n trained on 180 pantograph samples

---

## üéØ Detection Performance

| Metric | Value |
|--------|-------|
| **Total Frames** | 6,552 |
| **Detected Frames** | 6,448 |
| **Detection Rate** | **98.4%** |
| **Average Confidence** | 0.815 |
| **Min/Max Confidence** | 0.250 / 0.959 |

### Detection Gaps
- **Number of gaps:** 21
- **Mean gap length:** 5.0 frames (~0.17 seconds)
- **Max gap length:** 28 frames (~0.93 seconds)

---

## üìä Bounding Box Statistics

| Metric | Value |
|--------|-------|
| **Mean Width** | 363.8 px (42.9% of frame) |
| **Mean Height** | 344.5 px (72.1% of frame) |
| **Width Range** | 171 - 844 px |
| **Height Range** | 71 - 471 px |

---

## üéØ 3D Contact Point Tracking

### Position Statistics (Camera Coordinates)

| Axis | Min | Max | Mean |
|------|-----|-----|------|
| **X** | -46.573 | 12.038 | -2.491 |
| **Y** | -130.467 | 0.341 | -2.949 |
| **Z** | 1.136 | 436.709 | 10.068 |

### Velocity Statistics

| Metric | Value |
|--------|-------|
| **Mean Speed** | 1.887 units/frame |
| **Max Speed** | 443.017 units/frame |
| **Std Deviation** | 8.991 |

---

## üìÅ Output Files

### Generated Data
- **Tracking JSON:** `contact_track_yolo.json` (2.9 MB)
  - Full frame-by-frame tracking data
  - Bounding boxes, confidence scores
  - 2D pixel coordinates + 3D camera coordinates
  - Frame-to-frame velocity vectors

- **Visualizations:** `contact_visualizations/` (6,448 frames)
  - Green bounding boxes around pantograph
  - Red contact point markers (top-center of bbox)
  - Overlay: confidence + 3D position

### Model Weights
- **Best model:** `output/yolo/pantograph_detector/weights/best.pt`
- **Training metrics:** mAP50=0.852, Recall=0.90 (epoch 100)

---

## üîß Processing Pipeline

1. ‚úÖ **Video Frame Extraction** (6,552 frames)
2. ‚úÖ **MiDaS Depth Estimation** (DPT_Large, all frames)
3. ‚úÖ **YOLO Training** (100 epochs, 180 train + 20 val samples)
4. ‚úÖ **Contact Point Tracking** (98.4% detection rate)
5. ‚úÖ **3D Position Estimation** (depth fusion)
6. ‚úÖ **Velocity Computation** (frame-to-frame)
7. ‚úÖ **Visualization Generation** (6,448 annotated frames)

---

## üöÄ Next Steps

### Immediate Actions
- **Video Compilation:** Create tracking video from visualizations
  ```bash
  ffmpeg -framerate 29.99 -i contact_visualizations/frame_%05d.jpg -c:v libx264 -pix_fmt yuv420p contact_tracking.mp4
  ```

### Validation & Analysis
- Manual ground-truth annotation (~10-20 frames)
- RMSE computation vs ground truth
- Temporal smoothing (Kalman filter)
- Catenary wire curve fitting

### Enhanced Tracking
- Multi-object tracking (pantograph + wire separately)
- 3D reconstruction integration (when COLMAP succeeds)
- Physics-based motion prediction
- Contact force estimation

---

## üìà Key Findings

1. **High Detection Rate:** 98.4% detection shows YOLO successfully learned pantograph appearance
2. **Stable Tracking:** Only 21 detection gaps across 6,552 frames
3. **Consistent Bounding Boxes:** Mean size ~364√ó345 px indicates stable detection
4. **3D Localization:** Contact points estimated in camera space using depth fusion
5. **Velocity Computed:** Frame-to-frame motion captured for dynamics analysis

---

## ‚ö†Ô∏è Known Limitations

1. **Depth Accuracy:** MiDaS provides relative depth, not metric scale
2. **No Camera Poses:** COLMAP reconstruction failed, using camera-space coordinates only
3. **2D Tracking:** Contact point is bbox top-center (heuristic, not precise)
4. **Validation Needed:** Ground-truth comparison pending

---

Generated by Gaussian Splatting + YOLO tracking pipeline
